## Vue-music-app项目笔记

> 1.0  获取数据的方式
>
> > 通过chrome的netWork查看页面请求，找到需要请求的数据。qq音乐地址（https://m.y.qq.com/）
> >
> > jsonp原理：动态创建script标签，标签的src属性是不受同源策略限制的,
> >
> > 在请求的地址后面带上一个callback函数，函数名称就是在服务端定义好的方法名称，需要与后端事先沟通。在__qq音乐中的轮播图数据使用的jsonp回调函数叫做__jsonpCallback__。
> >
> > 遇到的坑：  做jsonp请求别人家的数据时，需要看准传递的参数有哪些，按套路出牌。。。

>2.0 轮播图组件
>
>>通过jsonp请求轮播图组件回来后，在轮播图组件中使用`<slot></slot>`的方式放入图片数据，循环渲染是在父组件中操作。
>>
>>给每张图片动态设置宽度，需要确保图片已经渲染完毕。注意父组件请求轮播图片数据的响应时间
>>
>>遇到的坑： 父组件轮播数据还未请求回来，请求轮播图数据是在父组件的created()中操作的，而设置轮播图片宽高添加类名的操作是在轮播图组件的mounted()中操作的，这些钩子函数隶属于同一个Vue实例对象。请求数据是异步请求，导致设置宽高类名的时机不对。需要在父组件模板文件中包含轮播图组件的父元素中设置判断条件。`v-if("sliderdata.length")` ，确保存放轮播图数据的对象有内容之后再渲染轮播图组件。

